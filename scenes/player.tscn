[gd_scene load_steps=15 format=3 uid="uid://de8uuctek0se0"]

[ext_resource type="Script" uid="uid://bt675bmam21q1" path="res://scripts/player.gd" id="1_3vyb7"]
[ext_resource type="PackedScene" uid="uid://b4v2acyskvdgi" path="res://scenes/wrap_around.tscn" id="2_g2els"]
[ext_resource type="PackedScene" uid="uid://bfu0ffpngr1be" path="res://scenes/projectile.tscn" id="2_qhqgy"]
[ext_resource type="Texture2D" uid="uid://cktcwdq8cqxak" path="res://assets/textures/space_ship.png" id="4_dqkch"]
[ext_resource type="AudioStream" uid="uid://dakupcfb8mctl" path="res://assets/sounds/space-laser-3.wav" id="5_qlg0r"]
[ext_resource type="AudioStream" uid="uid://cjtix8eug1d0r" path="res://assets/sounds/ship-collide.wav" id="6_tuyoq"]
[ext_resource type="Texture2D" uid="uid://ctqf7dwsgf2j5" path="res://assets/textures/flame.png" id="7_fjrip"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_qlg0r"]
rough = true
bounce = 0.1

[sub_resource type="AtlasTexture" id="AtlasTexture_qlg0r"]
atlas = ExtResource("4_dqkch")
region = Rect2(0, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_tuyoq"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qlg0r")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="Animation" id="Animation_fjrip"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShootSFX:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_tuyoq"]
resource_name = "Shoot"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShootSFX:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_smehm"]
_data = {
&"RESET": SubResource("Animation_fjrip"),
&"Shoot": SubResource("Animation_tuyoq")
}

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_smehm"]
particle_flag_disable_z = true
inherit_velocity_ratio = 0.145
direction = Vector3(0, 1, 0)
spread = 16.807
initial_velocity_max = 76.92
gravity = Vector3(0, 0, 0)

[node name="Player" type="RigidBody2D"]
collision_layer = 2
mass = 0.1
physics_material_override = SubResource("PhysicsMaterial_qlg0r")
gravity_scale = 0.0
contact_monitor = true
max_contacts_reported = 1
script = ExtResource("1_3vyb7")
projectile_scene = ExtResource("2_qhqgy")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
position = Vector2(0, -2)
scale = Vector2(2.8125, 3.26802)
polygon = PackedVector2Array(0, -10, -10, 7, 10, 7)

[node name="Line2D" type="Line2D" parent="CollisionPolygon2D"]
visible = false
points = PackedVector2Array(0, -10, -10, 7, 10, 7, 0, -10)
width = 1.0

[node name="WrapAround" parent="." instance=ExtResource("2_g2els")]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -8)
scale = Vector2(1.5796, 1.5796)
sprite_frames = SubResource("SpriteFrames_tuyoq")
autoplay = "default"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_smehm")
}

[node name="ShootSFX" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = ExtResource("5_qlg0r")
volume_db = -11.0
max_polyphony = 5
bus = &"SFX"

[node name="HitSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_tuyoq")
volume_db = -15.0
max_polyphony = 20
bus = &"SFX"

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
position = Vector2(5.96046e-08, 28)
scale = Vector2(0.618441, 0.629822)
amount = 20
texture = ExtResource("7_fjrip")
process_material = SubResource("ParticleProcessMaterial_smehm")
